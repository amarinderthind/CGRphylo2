# Bioconductor Submission Guide for CGRphylo2

This document outlines the steps to submit CGRphylo to Bioconductor.

## Pre-submission Checklist

### 1. Package Structure ✓
- [x] DESCRIPTION file with proper formatting
- [x] NAMESPACE file (generated by roxygen2)
- [x] R/ directory with .R files
- [x] man/ directory with .Rd files
- [x] vignettes/ directory with vignette
- [x] tests/ directory with unit tests
- [x] NEWS file documenting changes
- [x] LICENSE file (GPL-3)

### 2. Bioconductor Requirements ✓

#### Version Number
- Version must be 0.99.x for initial submission
- Current version: **0.99.0** ✓

#### Dependencies
All dependencies are from CRAN or Bioconductor:
- Biostrings (Bioconductor)
- ape, seqinr (CRAN)
- testthat, knitr (CRAN)

#### biocViews
Package has appropriate biocViews:
- Phylogenetics
- Genetics
- SequenceMatching
- Alignment
- Clustering
- Visualization
- Software

### 3. Documentation ✓
- [x] All functions have roxygen2 documentation
- [x] Examples in function documentation
- [x] Comprehensive vignette
- [x] README.md
- [x] NEWS file

### 4. Code Quality ✓
- [x] No spaces in file names
- [x] Function names follow R conventions
- [x] Code is well-commented
- [x] No hard-coded paths
- [x] Proper error handling

### 5. Testing ✓
- [x] Unit tests with testthat
- [x] Tests cover main functions
- [x] Tests pass locally

## Submission Steps

### Step 1: Build and Check Package

```r
# In R, from package directory
devtools::document()  # Generate documentation
devtools::build()     # Build package
devtools::check()     # Run R CMD check

# Should pass with 0 errors, 0 warnings, 0 notes
```

### Step 2: BiocCheck

```r
# Install BiocCheck
if (!requireNamespace("BiocManager", quietly = TRUE))
    install.packages("BiocManager")
BiocManager::install("BiocCheck")

# Run BiocCheck
library(BiocCheck)
BiocCheck(".")

# Address any issues found
```

### Step 3: Prepare GitHub Repository

1. Create a clean GitHub repository (or clean existing one)
2. Push all files to GitHub
3. Ensure repository is public
4. Add a clear README.md
5. Tag a release (v0.99.0)

### Step 4: Submit to Bioconductor

1. Go to: https://github.com/Bioconductor/Contributions/issues/new/choose
2. Choose "New Package Contribution"
3. Fill out the template:
   - Package name: CGRphylo2
   - GitHub URL: https://github.com/amarinderthind/CGRphylo2
   - Version: 0.99.0
   - Brief description
   - Confirm all requirements met

### Step 5: Review Process

1. Automated checks will run
2. Reviewers will examine code
3. Address any feedback promptly
4. Make requested changes
5. Push updates to GitHub

### Step 6: Acceptance

Once accepted:
1. Package will be added to Bioconductor
2. Daily builds will run
3. Package will appear on Bioconductor website

## Common BiocCheck Issues and Solutions

### Issue 1: Version Number
**Problem**: Version not 0.99.x
**Solution**: Update DESCRIPTION to Version: 0.99.0

### Issue 2: Dependencies
**Problem**: Non-Bioconductor/CRAN dependencies
**Solution**: Only use packages from CRAN or Bioconductor

### Issue 3: Vignette Size
**Problem**: Vignette too large
**Solution**: Reduce image sizes or use smaller example datasets

### Issue 4: Examples Too Slow
**Problem**: Examples take too long to run
**Solution**: Use `\dontrun{}` or `\donttest{}` for slow examples

### Issue 5: File Permissions
**Problem**: Executable files
**Solution**: Run `chmod -x` on all non-script files

## After Submission

### Maintaining the Package

1. **Regular Updates**: Submit updates every 6 months
2. **Bug Fixes**: Address issues promptly
3. **Version Bumps**: 
   - x.y.z: bug fixes (z increases)
   - x.y.z: new features (y increases)
4. **NEWS File**: Document all changes

### Support

Respond to:
- GitHub issues
- Bioconductor support site questions
- User emails

## Resources

- [Bioconductor Package Guidelines](https://bioconductor.org/developers/package-guidelines/)
- [Bioconductor Package Submission](https://bioconductor.org/developers/package-submission/)
- [BiocCheck Documentation](https://bioconductor.org/packages/release/bioc/html/BiocCheck.html)
- [Contributions Repository](https://github.com/Bioconductor/Contributions)

## Contact

For questions about submission:
- Bioconductor support: support@bioconductor.org
- Developer mailing list: bioc-devel@r-project.org

## Notes

- Be patient: Review process takes 2-4 weeks
- Be responsive: Answer reviewer questions within 2 weeks
- Be thorough: Address all feedback comprehensively
- Be professional: Maintain courteous communication
